(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,n,t){e.exports=t(41)},41:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(10),u=t.n(o),l=t(11),s=t(12),c=t(14),i=t(13),m=t(15),d=function(e){var n=e.addPerson,t=e.newName,a=e.handleNameChange,o=e.newNumber,u=e.handleNumberChange;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:o,onChange:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},h=function(e){var n=e.person,t=e.deletePerson;return r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,n.name),r.a.createElement("td",null,n.number),r.a.createElement("td",null,r.a.createElement("button",{onClick:t},"poista"))))},p=function(e){var n=e.persons,t=e.deletePerson;return r.a.createElement("table",null,n.map(function(e){return r.a.createElement(h,{key:e.id,person:e,deletePerson:t(e.name)})}))},f=t(2),b=t.n(f),v={getAll:function(){return b.a.get("/api/persons").then(function(e){return e.data})},create:function(e){return b.a.post("/api/persons",e).then(function(e){return e.data})},remove:function(e){return b.a.delete("".concat("/api/persons","/").concat(e)).then(function(e){return e.data})}},N=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(c.a)(this,Object(i.a)(n).call(this,e))).addPerson=function(e){e.preventDefault();for(var n=0;n<t.state.persons.length;n++)if(t.state.persons[n].name.includes(t.state.newName))return;var a={name:t.state.newName,number:t.state.newNumber};v.create(a).then(function(e){t.setState({persons:t.state.persons.concat(e),newName:"",newNumber:""})})},t.handleNameChange=function(e){console.log(e.target.value),t.setState({newName:e.target.value})},t.handleNumberChange=function(e){console.log(e.target.value),t.setState({newNumber:e.target.value})},t.deletePerson=function(e){return function(){if(window.confirm("poistetaanko ".concat(e))){var n=t.state.persons.find(function(n){return n.name===e});v.remove(n.id).then(function(e){var a=t.state.persons.filter(function(e){return e.id!==n.id});t.setState({persons:a})})}}},t.state={persons:[],newName:"",newNumber:""},t}return Object(m.a)(n,e),Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;v.getAll().then(function(n){e.setState({persons:n})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(d,{addPerson:this.addPerson,newName:this.state.newName,handleNameChange:this.handleNameChange,newNumber:this.state.newNumber,handleNumberChange:this.handleNumberChange}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(p,{persons:this.state.persons,deletePerson:this.deletePerson}))}}]),n}(r.a.Component);u.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[16,2,1]]]);
//# sourceMappingURL=main.702a14eb.chunk.js.map