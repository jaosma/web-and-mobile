{"version":3,"sources":["components/NumberForm.js","components/Person.js","components/ViewDirectory.js","services/numbers.js","App.js","index.js"],"names":["NumberForm","_ref","addPerson","newName","handleNameChange","newNumber","handleNumberChange","react_default","a","createElement","onSubmit","value","onChange","type","Person","person","deletePerson","name","number","onClick","ViewDirectory","persons","map","components_Person","key","id","numbers","getAll","axios","get","then","response","data","create","newObject","post","remove","delete","concat","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","event","preventDefault","index","state","length","includes","personObject","numberService","newPerson","setState","console","log","target","window","confirm","personToDelete","find","p","filter","_this2","components_NumberForm","components_ViewDirectory","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.702a14eb.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst NumberForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n            nimi: <input value={newName} onChange={handleNameChange}/>\r\n        </div>\r\n        <div>\r\n            numero: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n        <button type=\"submit\">lisää</button>\r\n        </div>\r\n        </form>  \r\n    )\r\n}\r\n\r\nexport default NumberForm","import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson}) => {\r\n    return (\r\n        <tbody>\r\n            <tr>\r\n                <td>{person.name}</td> \r\n                <td>{person.number}</td>\r\n                <td><button onClick={deletePerson}>poista</button></td>\r\n            </tr>\r\n        </tbody>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst ViewDirectory = ({persons, deletePerson}) => {\r\n    return(\r\n        <table>\r\n        {persons.map(person => <Person key={person.id} person={person} deletePerson={deletePerson(person.name)}/>)} \r\n        </table> \r\n    )\r\n}\r\n\r\nexport default ViewDirectory","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n                .then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove }","import React from 'react';\r\nimport NumberForm from './components/NumberForm'\r\nimport ViewDirectory from './components/ViewDirectory'\r\nimport numberService from './services/numbers'\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      persons: [],\r\n      newName: '',\r\n      newNumber:''\r\n    }\r\n  }\r\n\r\n  addPerson = (event) => {\r\n    event.preventDefault()\r\n    for (let index = 0; index < this.state.persons.length; index++) {\r\n        if (this.state.persons[index].name.includes(this.state.newName)) {\r\n            return;\r\n        }\r\n    }\r\n\r\n        const personObject = {\r\n            name: this.state.newName,\r\n            number: this.state.newNumber\r\n        }    \r\n        \r\n        numberService\r\n        .create(personObject)\r\n        .then(newPerson => {\r\n        this.setState({\r\n            persons: this.state.persons.concat(newPerson),\r\n            newName: '',\r\n            newNumber: ''\r\n          })\r\n        }) \r\n    }\r\n\r\n  handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    this.setState({ newName: event.target.value})\r\n  }\r\n\r\n  handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    this.setState({ newNumber: event.target.value})\r\n  }\r\n\r\n  componentDidMount(){\r\n    numberService\r\n      .getAll()\r\n      .then(response => {\r\n        this.setState({ persons: response })\r\n      })\r\n  }\r\n\r\n  deletePerson = (name) => {\r\n    return () => {\r\n      if (window.confirm(`poistetaanko ${name}`)) {\r\n        const personToDelete = this.state.persons.find(p => p.name === name)\r\n\r\n        numberService\r\n          .remove(personToDelete.id)\r\n          .then(response => {\r\n            const persons = this.state.persons.filter(p => p.id !== personToDelete.id)\r\n            this.setState({\r\n              persons: persons\r\n            })\r\n          })\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n        <h2>Puhelinluettelo</h2>\r\n        <NumberForm\r\n          addPerson={this.addPerson}\r\n          newName={this.state.newName}\r\n          handleNameChange={this.handleNameChange}\r\n          newNumber={this.state.newNumber}\r\n          handleNumberChange={this.handleNumberChange}\r\n        />\r\n        <h2>Numerot</h2>\r\n        <ViewDirectory\r\n          persons={this.state.persons}\r\n          deletePerson={this.deletePerson}\r\n        />\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n)"],"sourceRoot":""}